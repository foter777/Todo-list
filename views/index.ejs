<%- include("partials/header.ejs") %>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles/style.css">
    <title>To do list</title>
</head>


<body>
    <div class = "list-container">
        <div class = "todo-list">
            <form action="/" method="post" class = "d-flex">
                <input name="item" type="text" class="form-control" placeholder= "New Item"/>
                
                <button name = "list" class="btn btn-outline-success" type="submit" value = "<%=name %>" >Add</button>
            </form>
        
                <% if(locals.itemList.length > 0) {%>
                    <% for (i = 0; i < locals.itemList.length; i++){ %>
                        <form action="/Delete" method="post">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name = "checkbox" value="<%=locals.itemList[i]._id %>" id="flexCheckDefault" onChange="this.form.submit()">
                                    <p><%= locals.itemList[i].name %> </p>
                            </div>
                            <input type="hidden" name = "listName" value = "<%=name %>"></input>
                        </form>
                    <% } %>
                <% } %>
        </div>
        </ul>
    </div>

</body>
</html>